import{R as e,r as c,j as d}from"./index-DniAfiQM.js";import{b as _,a as O,u as T,c as U,F as L}from"./components-CTNVWZl_.js";import{B as z,L as B}from"./Layout-SbK4e8_R.js";import{W as R,d as H,u as D,T as S,e as P,f as W,c as C,a as h,B as w,I as v,g as K,P as X,C as q,b as y}from"./Page-DrfvnsmP.js";import{u as G}from"./context-CJuPn0Xs.js";import{F as j}from"./FormLayout-9gpm5w4l.js";var M=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 6a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M11.237 3.177a1.75 1.75 0 0 0-2.474 0l-5.586 5.585a1.75 1.75 0 0 0 0 2.475l5.586 5.586a1.75 1.75 0 0 0 2.474 0l5.586-5.586a1.75 1.75 0 0 0 0-2.475l-5.586-5.585Zm-1.414 1.06a.25.25 0 0 1 .354 0l5.586 5.586a.25.25 0 0 1 0 .354l-5.586 5.585a.25.25 0 0 1-.354 0l-5.586-5.585a.25.25 0 0 1 0-.354l5.586-5.586Z"}))};M.displayName="AlertDiamondIcon";var A=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),e.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};A.displayName="AlertTriangleIcon";var F=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{fillRule:"evenodd",d:"M15.78 5.97a.75.75 0 0 1 0 1.06l-6.5 6.5a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 1 1 1.06-1.06l2.72 2.72 5.97-5.97a.75.75 0 0 1 1.06 0Z"}))};F.displayName="CheckIcon";var N=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),e.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),e.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};N.displayName="InfoIcon";var Z=function(n){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},n),e.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};Z.displayName="XIcon";var b={Banner:"Polaris-Banner",keyFocused:"Polaris-Banner--keyFocused",withinContentContainer:"Polaris-Banner--withinContentContainer",withinPage:"Polaris-Banner--withinPage",DismissIcon:"Polaris-Banner__DismissIcon","text-success-on-bg-fill":"Polaris-Banner--textSuccessOnBgFill","text-success":"Polaris-Banner__text--success","text-warning-on-bg-fill":"Polaris-Banner--textWarningOnBgFill","text-warning":"Polaris-Banner__text--warning","text-critical-on-bg-fill":"Polaris-Banner--textCriticalOnBgFill","text-critical":"Polaris-Banner__text--critical","text-info-on-bg-fill":"Polaris-Banner--textInfoOnBgFill","text-info":"Polaris-Banner__text--info","icon-secondary":"Polaris-Banner__icon--secondary"};const k={success:{withinPage:{background:"bg-fill-success",text:"text-success-on-bg-fill",icon:"text-success-on-bg-fill"},withinContentContainer:{background:"bg-surface-success",text:"text-success",icon:"text-success"},icon:F},warning:{withinPage:{background:"bg-fill-warning",text:"text-warning-on-bg-fill",icon:"text-warning-on-bg-fill"},withinContentContainer:{background:"bg-surface-warning",text:"text-warning",icon:"text-warning"},icon:A},critical:{withinPage:{background:"bg-fill-critical",text:"text-critical-on-bg-fill",icon:"text-critical-on-bg-fill"},withinContentContainer:{background:"bg-surface-critical",text:"text-critical",icon:"text-critical"},icon:M},info:{withinPage:{background:"bg-fill-info",text:"text-info-on-bg-fill",icon:"text-info-on-bg-fill"},withinContentContainer:{background:"bg-surface-info",text:"text-info",icon:"text-info"},icon:N}};function J(r){const n=c.useRef(null),[u,t]=c.useState(!1);return c.useImperativeHandle(r,()=>({focus:()=>{var a;(a=n.current)==null||a.focus(),t(!0)}}),[]),{wrapperRef:n,handleKeyUp:a=>{a.target===n.current&&t(!0)},handleBlur:()=>t(!1),handleMouseUp:a=>{a.currentTarget.blur(),t(!1)},shouldShowFocus:u}}const $=c.forwardRef(function(n,u){const{tone:t,stopAnnouncements:i}=n,o=c.useContext(R),{wrapperRef:s,handleKeyUp:a,handleBlur:l,handleMouseUp:m,shouldShowFocus:f}=J(u),g=H(b.Banner,f&&b.keyFocused,o?b.withinContentContainer:b.withinPage);return e.createElement(z.Provider,{value:!0},e.createElement("div",{className:g,tabIndex:0,ref:s,role:t==="warning"||t==="critical"?"alert":"status","aria-live":i?"off":"polite",onMouseUp:m,onKeyUp:a,onBlur:l},e.createElement(Q,n)))});function Q({tone:r="info",icon:n,hideIcon:u,onDismiss:t,action:i,secondaryAction:o,title:s,children:a}){const l=D(),m=c.useContext(R),f=!s&&!m,g=Object.keys(k).includes(r)?r:"info",p=k[g][m?"withinContentContainer":"withinPage"],x={backgroundColor:p.background,textColor:p.text,bannerTitle:s?e.createElement(S,{as:"h2",variant:"headingSm",breakWord:!0},s):null,bannerIcon:u?null:e.createElement("span",{className:b[p.icon]},e.createElement(P,{source:n??k[g].icon})),actionButtons:i||o?e.createElement(W,null,i&&e.createElement(C,Object.assign({onClick:i.onAction},i),i.content),o&&e.createElement(C,Object.assign({onClick:o.onAction},o),o.content)):null,dismissButton:t?e.createElement(C,{variant:"tertiary",icon:e.createElement("span",{className:b[f?"icon-secondary":p.icon]},e.createElement(P,{source:Z})),onClick:t,accessibilityLabel:l.translate("Polaris.Banner.dismissButton")}):null},E=a?e.createElement(S,{as:"span",variant:"bodyMd"},a):null;return m?e.createElement(ee,x,E):f?e.createElement(Y,x,E):e.createElement(V,x,E)}function V({backgroundColor:r,textColor:n,bannerTitle:u,bannerIcon:t,actionButtons:i,dismissButton:o,children:s}){const{smUp:a}=G(),l=s||i;return e.createElement(h,{width:"100%"},e.createElement(w,{align:"space-between"},e.createElement(h,{background:r,color:n,borderStartStartRadius:a?"300":void 0,borderStartEndRadius:a?"300":void 0,borderEndStartRadius:!l&&a?"300":void 0,borderEndEndRadius:!l&&a?"300":void 0,padding:"300"},e.createElement(v,{align:"space-between",blockAlign:"center",gap:"200",wrap:!1},e.createElement(v,{gap:"100",wrap:!1},t,u),o)),l&&e.createElement(h,{padding:{xs:"300",md:"400"},paddingBlockStart:"300"},e.createElement(w,{gap:"200"},e.createElement("div",null,s),i))))}function Y({backgroundColor:r,bannerIcon:n,actionButtons:u,dismissButton:t,children:i}){const[o,s]=c.useState("center"),a=c.useRef(null),l=c.useRef(null),m=c.useRef(null),f=c.useCallback(()=>{var x,E,I;const g=(x=a.current)==null?void 0:x.offsetHeight,p=((E=l.current)==null?void 0:E.offsetHeight)||((I=m.current)==null?void 0:I.offsetHeight);!g||!p||(g>p?s("start"):s("center"))},[]);return c.useEffect(()=>f(),[f]),K("resize",f),e.createElement(h,{width:"100%",padding:"300",borderRadius:"300"},e.createElement(v,{align:"space-between",blockAlign:o,wrap:!1},e.createElement(h,{width:"100%"},e.createElement(v,{gap:"200",wrap:!1,blockAlign:o},n?e.createElement("div",{ref:l},e.createElement(h,{background:r,borderRadius:"200",padding:"100"},n)):null,e.createElement(h,{ref:a,width:"100%"},e.createElement(w,{gap:"200"},e.createElement("div",null,i),u)))),e.createElement("div",{ref:m,className:b.DismissIcon},t)))}function ee({backgroundColor:r,textColor:n,bannerTitle:u,bannerIcon:t,actionButtons:i,dismissButton:o,children:s}){return e.createElement(h,{width:"100%",background:r,padding:"200",borderRadius:"200",color:n},e.createElement(v,{align:"space-between",blockAlign:"start",wrap:!1,gap:"200"},e.createElement(v,{gap:"150",wrap:!1},t,e.createElement(h,{width:"100%"},e.createElement(w,{gap:"200"},e.createElement(w,{gap:"050"},u,e.createElement("div",null,s)),i))),o))}function se(){const r=_(),n=O(),u=T(),t=U(),[i,o]=c.useState(t.stateProvinceCode),[s,a]=c.useState(t.message);c.useEffect(()=>{if(t){const g=JSON.parse(t.body);o(g.stateProvinceCode),a(g.message)}},[t]);const l=u.state==="submitting";c.useEffect(()=>{(n==null?void 0:n.errors.length)===0&&open("shopify:admin/settings/shipping/customizations","_top")},[n==null?void 0:n.errors]);const m=n!=null&&n.errors.length?d.jsx(B.Section,{children:d.jsx($,{title:"There was an error creating the customization.",status:"critical",children:d.jsx("ul",{children:n==null?void 0:n.errors.map((g,p)=>d.jsx("li",{children:g.message},`${p}`))})})}):null,f=()=>{r({stateProvinceCode:i,message:s},{method:"post"})};return d.jsx(X,{title:"Change delivery message",backAction:{content:"Delivery customizations",onAction:()=>open("shopify:admin/settings/shipping/customizations","_top")},primaryAction:{content:"Save",loading:l,onAction:f},children:d.jsxs(B,{children:[m,d.jsx(B.Section,{children:d.jsx(q,{children:d.jsx(L,{method:"post",children:d.jsx(j,{children:d.jsxs(j.Group,{children:[d.jsx(y,{name:"stateProvinceCode",type:"text",label:"State/Province code",value:i,onChange:o,disabled:l,requiredIndicator:!0,autoComplete:"on"}),d.jsx(y,{name:"message",type:"text",label:"Message",value:s,onChange:a,disabled:l,requiredIndicator:!0,autoComplete:"off"})]})})})})})]})})}export{se as default};
